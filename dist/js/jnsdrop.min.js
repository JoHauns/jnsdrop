!function(a){a(document).ready(function(){function t(t){for(var n=0;n<t.length;n++){a("#ddup-log").append('<p class="ddup-item" data-name="'+t[n].name+'">'+t[n].name+"</p>");var o=new FormData;o.append("templateFile",t[n]),e(o,t[n].name)}}function e(t,e){a.ajax({url:"/app/siteadmin/layout/apiupload",data:t,cache:!1,contentType:!1,processData:!1,type:"POST",success:function(t){var n=a("<div></div>");n.html(t);var o=JSON.parse(a("textarea",n).val()),d=a('.ddup-item[data-name="'+e+'"]');d.addClass(o.status),"success"==o.status?setTimeout(function(){d.fadeOut(600,function(){d.remove()})},5e3):d.attr("title",o.errors.templateFile)}})}if(jimdoData.isCMS){var n=a('<div id="ddup"><div id="ddup-label">Layout Upload</div><div id="ddup-log"></div></div>');a("body").append(n);var o=a("#ddup");o.on("dragenter",function(t){t.stopPropagation(),t.preventDefault(),a(this).addClass("over")}),o.on("dragover",function(a){a.stopPropagation(),a.preventDefault()}),o.on("drop",function(e){e.preventDefault();var n=e.originalEvent.dataTransfer.files;t(n,o),a(this).removeClass("over")}),o.on("click",function(){a(this).toggleClass("expand")}),a("#ddup-log",o).on("click",function(a){a.stopPropagation(),a.preventDefault()}),a(document).on("dragenter",function(a){a.stopPropagation(),a.preventDefault(),o.addClass("expand")}),a(document).on("dragover",function(a){a.stopPropagation(),a.preventDefault()})}})}(jQuery);